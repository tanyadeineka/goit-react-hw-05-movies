"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[339],{573:function(e,t,r){r.d(t,{Hg:function(){return c},Jh:function(){return p},s_:function(){return o},xi:function(){return l}});var n=r(861),a=r(757),i=r.n(a),s=r(388),u="acd3e1918f36805b2e8d8b868384b633",c=function(){var e=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(u,"&page=1"));case 2:return t=e.sent,r=t.data,e.abrupt("return",r.results.map((function(e){return{id:e.id,title:e.title,poster:e.poster_path}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(u,"&language=en-US"));case 2:return r=e.sent,n=r.data,e.abrupt("return",{image:n.poster_path,title:n.title,date:n.release_date,score:n.vote_average,overview:n.overview,genres:n.genres});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&api_key=").concat(u,"&language=en-US&page=1&include_adult=false"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results.map((function(e){return{id:e.id,title:e.title,poster:e.poster_path}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(u,"&language=en-US&page=1"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results.map((function(e){return{author:e.author,content:e.content,reviewId:e.id}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},321:function(e,t,r){var n=r(643),a=r(184);t.Z=function(){return(0,a.jsx)(n.Bb,{height:"80",width:"80",radius:"9",color:"green",ariaLabel:"loading",wrapperStyle:!0,wrapperClass:!0})}},339:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(861),a=r(439),i=r(757),s=r.n(i),u=r(791),c=r(87),o=r(573),l={},p=r(689),f=r(184);function h(e){var t=e.films,r=(0,p.TH)();return(0,f.jsx)("ul",{className:l.list,children:t.map((function(e){return(0,f.jsxs)("li",{className:l.item,children:[(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(e.poster),alt:e.title,width:300}),(0,f.jsx)(c.rU,{className:l.link,to:"".concat(e.id),state:{from:r},children:e.title})]},e.id)}))})}var d,m={},v=["title","titleId"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function b(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w(e,t){var r=e.title,n=e.titleId,a=b(e,v);return u.createElement("svg",g({width:"20px",height:"20px",viewBox:"0 -0.01 480 480",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?u.createElement("title",{id:n},r):null,d||(d=u.createElement("g",{id:"search",transform:"translate(-481.548 -3672.473)"},u.createElement("path",{id:"Path_27","data-name":"Path 27",d:"M782.649,3919.773l-53.462-53.462a28.306,28.306,0,0,0-38.278-1.617L673.5,3847.286a107.7,107.7,0,1,0-17.134,17.132l17.408,17.409a28.3,28.3,0,0,0,1.618,38.276l53.463,53.461a28.319,28.319,0,0,0,40.046,0l13.747-13.747a28.314,28.314,0,0,0,0-40.044ZM530.227,3839.2a83.479,83.479,0,1,1,59.026,24.448A82.932,82.932,0,0,1,530.227,3839.2Zm235.29,103.485L751.77,3956.43a4.088,4.088,0,0,1-5.78,0l-53.465-53.462a4.085,4.085,0,0,1,0-5.777l13.748-13.749a4.091,4.091,0,0,1,5.78,0l53.463,53.462a4.087,4.087,0,0,1,0,5.778Z",fill:"#453c5c"}))))}var x=u.forwardRef(w),y=(r.p,function(e){var t=e.onSubmit;e.value;return(0,f.jsx)("div",{className:m.searchbar,children:(0,f.jsxs)("form",{onSubmit:t,className:m.form,children:[(0,f.jsxs)("button",{type:"submit",className:m.button,children:[(0,f.jsx)("span",{className:m.buttonLabel}),(0,f.jsx)(x,{width:"20",height:"20",className:m.searchSvg})]}),(0,f.jsx)("input",{className:m.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",name:"query"})]})})}),j=r(321),k={};function Z(){var e,t=(0,u.useState)(!1),r=(0,a.Z)(t,2),i=r[0],l=r[1],p=(0,u.useState)([]),d=(0,a.Z)(p,2),m=d[0],v=d[1],g=(0,u.useState)(null),b=(0,a.Z)(g,2),w=b[0],x=b[1],Z=(0,c.lr)(),_=(0,a.Z)(Z,2),S=_[0],O=_[1],N=null!==(e=S.get("query"))&&void 0!==e?e:"";(0,u.useEffect)((function(){function e(){return(e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,(0,o.xi)(N);case 4:t=e.sent,v(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x("Sorry, we can not get data.");case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}""!==N&&function(){e.apply(this,arguments)}()}),[N]);return(0,f.jsxs)("div",{className:k.moviesWrapper,children:[(0,f.jsx)(y,{onSubmit:function(e){e.preventDefault(),O({query:e.target.elements.query.value}),e.target.reset()},value:N}),w&&(0,f.jsx)("p",{children:w}),i&&(0,f.jsx)(j.Z,{}),(0,f.jsx)(h,{films:m})]})}}}]);
//# sourceMappingURL=339.f2e14118.chunk.js.map